{"version":3,"sources":["js/FormControl.js","js/index.js"],"names":["FormControl","name","surname","phone","legal","email","comment","querySelectors","document","querySelector","query","addEventListener","value","className","length","phoneRegex","match","emailRegex","nextElementSibling","errorContainer","ul","createElement","style","display","checked","firstChild","removeChild","classList","contains","li","innerHTML","appendChild","submitBtn","spinner","disabled","replaceChild","childNodes","_commit","setTimeout","data","JSON","stringify","console","log","arrowDown","anchor","mobileMenu","mobileMenuIcon","mobileMenuItems","querySelectorAll","formSubmit","scrollIntoView","event","toggle","forEach","item","Form","initEvents","preventDefault","handleSubmit"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["//Form control as a class to handle all form data and form actions\r\nexport default class FormControl {\r\n    constructor() {\r\n        this.name;\r\n        this.surname;\r\n        this.phone;\r\n        this.legal;\r\n        this.email;\r\n        this.comment;\r\n        this.querySelectors = {\r\n            name : document.querySelector(\"#contact-form #name\"),\r\n            surname : document.querySelector(\"#contact-form #surname\"),\r\n            phone : document.querySelector(\"#contact-form #phone\"),\r\n            legal : document.querySelector(\"#contact-form #legal\"),\r\n            email : document.querySelector(\"#contact-form #email\")\r\n        }\r\n    }\r\n\r\n    //Init method that will create all events on the form and all validators for each input\r\n    initEvents() {\r\n        for (const query in this.querySelectors) {\r\n            this.querySelectors[query].addEventListener(\"blur\", () => {\r\n                if (!this.querySelectors[query].value) {\r\n                    this.querySelectors[query].className = \"error\";\r\n                }\r\n            });\r\n\r\n            this.querySelectors[query].addEventListener(\"keyup\", () => {\r\n                this.querySelectors[query].className = \"\";\r\n                if (!this.querySelectors[query].value.length) {\r\n                    this.querySelectors[query].className = \"error\";\r\n                } else {\r\n                    this.querySelectors[query].className = \"valid\";\r\n                }\r\n               \r\n                if (query === \"phone\") {\r\n                    const phoneRegex = /^\\d{9}$/;\r\n                    this.querySelectors[query].value.match(phoneRegex) ? this.querySelectors[query].className = \"valid\" : this.querySelectors[query].className = \"error\";\r\n                }\r\n\r\n                if (query === \"email\") {\r\n                    const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                    this.querySelectors[query].value.match(emailRegex) ? this.querySelectors[query].className = \"valid\" : this.querySelectors[query].className = \"error\";\r\n                }\r\n            });\r\n\r\n            this.querySelectors.legal.addEventListener(\"change\", () => {\r\n                this.querySelectors.legal.className = \"valid\";\r\n                this.querySelectors.legal.nextElementSibling.className = \"\";\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    //Method that will handle actions after submitting form, checking first for empty inputs and then displaying the errors to be fixed\r\n    //When all inputs are valid, save them in the class and commit them.\r\n    handleSubmit() {\r\n        const errorContainer = document.querySelector(\"#contact-form .errors\");\r\n        const ul = document.createElement(\"ul\");\r\n        errorContainer.style.display = \"none\";\r\n\r\n        for (const query in this.querySelectors) {\r\n            if (!this.querySelectors[query].value && query !== \"legal\") {\r\n                this.querySelectors[query].className = \"error\";\r\n            }           \r\n\r\n            if (query === \"legal\" && !this.querySelectors[query].checked) {\r\n                this.querySelectors[query].className = \"error\";\r\n                this.querySelectors[query].nextElementSibling.className = \"error-label\";\r\n            }\r\n        }\r\n\r\n        while (errorContainer.firstChild) {\r\n            errorContainer.removeChild(errorContainer.firstChild);\r\n        }\r\n\r\n        for (const query in this.querySelectors) {\r\n            if (this.querySelectors[query].classList.contains(\"error\")) {\r\n                const li = document.createElement(\"li\");\r\n                if (query === \"name\") {\r\n                    li.innerHTML = `Por favor introduzca su nombre.`;\r\n                }\r\n                if (query === \"surname\") {\r\n                    li.innerHTML = `Por favor introduzca su apellido.`;\r\n                }\r\n                if (query === \"phone\") {\r\n                    li.innerHTML = `Por favor introduzca un número de teléfono de 9 dígitos.`;\r\n                }\r\n                if (query === \"legal\") {\r\n                    li.innerHTML = `Por favor acepte el Aviso Legal.`;\r\n                }\r\n                if (query === \"email\") {\r\n                    li.innerHTML = `Por favor introduzca un correo electrónico válido.`;\r\n                }\r\n                ul.appendChild(li);\r\n                errorContainer.appendChild(ul);\r\n                errorContainer.style.display = \"block\";\r\n            } else {\r\n                if (query === \"name\") {\r\n                    this.name = this.querySelectors[query].value;\r\n                }\r\n                if (query === \"surname\") {\r\n                    this.surname = this.querySelectors[query].value;\r\n                }\r\n                if (query === \"phone\") {\r\n                    this.phone = this.querySelectors[query].value;\r\n                }\r\n                if (query === \"legal\") {\r\n                    this.legal = this.querySelectors[query].value;\r\n                }\r\n                if (query === \"email\") {\r\n                    this.email = this.querySelectors[query].value;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.name && this.surname && this.phone && this.legal && this.email) {\r\n            this.comment = document.querySelector(\"#contact-form #comment\").value;\r\n\r\n            while (errorContainer.firstChild) {\r\n                errorContainer.removeChild(errorContainer.firstChild);\r\n            }\r\n\r\n            const submitBtn = document.querySelector(\"#contact-form button\");\r\n            const spinner = document.createElement(\"div\");\r\n            submitBtn.disabled = true;\r\n            spinner.className = \"spinner\";\r\n            submitBtn.replaceChild(spinner,submitBtn.childNodes[0]);\r\n            this._commit();\r\n            //Time out to simulate sending data\r\n            setTimeout(() => submitBtn.innerHTML = `¡Gracias!`,2000)\r\n           \r\n        }\r\n    }\r\n\r\n    //The data from the class is saved as json and would be ready to be sent.\r\n    _commit() {\r\n        const data = JSON.stringify({\"name\": this.name, \"surname\": this.surname, \"phone\": this.phone, \"legal\": this.legal, \"email\": this.email, \"comment\": this.comment });\r\n        console.log(data);\r\n    }\r\n}","import FormControl from './FormControl';\r\n\r\n//Initial function to set up DOM event listeners and form control\r\n(() => {\r\n    const arrowDown = document.querySelector(\".circle\");\r\n    const anchor = document.querySelector(\"#scroll\");\r\n    const mobileMenu = document.querySelector(\".main-nav\");\r\n    const mobileMenuIcon = document.querySelector(\".mobile-menu\");\r\n    const mobileMenuItems = document.querySelectorAll(\".main-nav a\");\r\n    const formSubmit = document.querySelector(\"#contact-form\");\r\n\r\n    //Arrow down scroll effect\r\n    arrowDown.addEventListener(\"click\", () => {\r\n        anchor.scrollIntoView();\r\n    });\r\n\r\n    //Mobile menu events to show/hide\r\n    mobileMenu.addEventListener(\"click\", event => {\r\n        mobileMenuIcon.classList.toggle(\"active\");\r\n        mobileMenuItems.forEach(item => item.classList.toggle(\"active\"));\r\n        mobileMenu.classList.toggle(\"active\");\r\n    })\r\n\r\n    //Setting up form control to create form events and handling submit\r\n    const Form = new FormControl();\r\n    Form.initEvents();\r\n\r\n    formSubmit.addEventListener(\"submit\", event => {\r\n        event.preventDefault();\r\n        Form.handleSubmit();\r\n    })\r\n})();"]}